(self.webpackChunkssta=self.webpackChunkssta||[]).push([[261],{261:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Ke});var n=a(479);function r(e){return e`# Marine heatwave charts and brush/player

used to embed as a module in https://cioospacific.ca/applied-data/marine-heat-monitor/

curl -o bs.tgz "https://api.observablehq.com/d/0b936d79280ee3bd.tgz?v=3"

tar -C src/buoyviz -xvzf bs.tgz

This notebook includes
- loading the buoy data via api
- data brush chart (loads from github)
- scrubber for playing the animation in the website
- charts for the buoys

### Change log
June 22 2022
- replaced the player notebook with scrubber, as font awesome used in the player was not playing well with webpack.


`}function i(e,t,a){return e`# ${t(new Date(a))}`}function o(e){return e`date to stop playing. Ideally this should be a only a couple days in the past since data is usually updated each day`}function l(e){return e.timeDay.offset(e.utcDay(),-2)}function d(e){return e.timeDay.offset(e.utcDay(),-2)}function s(e,t,a){return e`
<style>

  /* match the scrubber's width to our race chart */
   // input[type="range"][name="i"] {
   //   width: ${t-90}px !important;
   // }

.${a}{
  font-size: 16px;  
}


button, input, textarea {
    accent-color: #007490;
}

#butt input, textarea {
    accent-color: green;
}
.brushFilter {
background-color: #606060;
color: "#e0f5ee"
}

.currentDot{
background-color: none;
color: "#e0f5ee"
}

.axisWhite line{
  stroke: #e0f5ee;
}

.axisWhite path{
  stroke: #e0f5ee;
}

// .selection{
// fill: #d9d9d9;
// fill-opacity: .6;
// stroke: none;
// }

.radio {

  color: deeppink;
}
  .button {
color:lightgrey;
  border: 0;
  background: transparent;
  box-sizing: border-box;
  width: 100;
  height: 74px;
  border-color: transparent transparent transparent lightgrey;
  transition: 100ms all ease;
  cursor: pointer;
  border-style: solid;
  border-width: 37px 0 37px 60px;
transform: scale(.7);
}
.paused {
  border-style: double;
  border-width: 0px 0 0px 60px;
}
.button:hover {
  border-color: transparent transparent transparent #8f8f8f;
}
// input[type="range"][name="input"] {
// accent-color:blue

// }

#dot{
 accent-color:black
}
.fa-xs {
    font-size: 5.75em;
}



</style>
`}function u(e){return e}function c(e){return e`play`}function f(e,t,a){return e(t,{width:0,delay:100,initial:a,autoplay:!1,loop:!1,format:e=>""})}function m(e){return e`anomaly or category button`}function b(e,t){return e.radio(["Anomaly","Heatwaves"],{value:"Anomaly",format:e=>t`<span style="color: white">${e}`})}function h(){return 0}function g(e,t,a,n,r,i,o,l,d,s,u,c,f,m,b,h){if("Heatwaves"===e){const e=t,m=a.create("svg").attr("viewBox",[0,0,n,e]).style("display","block"),b=a.scaleLinear().domain([0,1]).range([e-r.bottom,r.top+5]),h=(e,t,i)=>e.attr("transform",`translate(0,${i-r.bottom})`).call(a.axisBottom(t).ticks(n/80).tickSizeOuter(0)).style("stroke","#e0f5ee");m.append("g").call(h,i,e).attr("class","axisWhite");const g=o(l);return m.append("g").selectAll("g").data(g).join("g").style("fill",((e,t)=>d.get(e.key))).selectAll("rect").data((e=>e)).join("rect").attr("x",(e=>s(new Date(e.data.date).toISOString().substring(0,10)))).attr("y",(e=>b(e[1]))).attr("height",(e=>b(e[0])-b(e[1]))).attr("width",s.bandwidth()),m.append("line").datum([{date:u,value:1}]).attr("x1",(e=>c(u))).attr("x2",(e=>c(u))).attr("y2",b(1)).attr("y1",b(0)).attr("fill","none").attr("stroke","deeppink").attr("stoke-width",1.5).attr("stroke-linejoin","round"),m.selectAll("circle").data([{date:u,value:1}]).join("circle").attr("cx",(e=>c(e.date))).attr("cy",(e=>b(.98))).attr("r",7).attr("fill",(e=>"deeppink")).attr("stroke",(e=>"deeppink")).call(f),m.node()}{const e=t,i=a.create("svg").attr("viewBox",[0,0,n,e]).style("display","block"),o=a.scaleLinear().domain([0,1]).range([e-r.bottom,r.top+5]),l=(e,t,i)=>e.attr("transform",`translate(0,${i-r.bottom})`).call(a.axisBottom(t).ticks(n/80).tickSizeOuter(0)).style("stroke","#e0f5ee");i.append("g").call(l,c,e).attr("class","axisWhite");const d=a.scaleBand().range([r.left,n-r.right],.01).padding(.01).domain(m);return i.selectAll("rect").data(b).enter().append("rect").attr("x",(e=>d(e.date.toISOString().substring(0,10)))).attr("y",(e=>o(1))).attr("width",(e=>d.bandwidth())).attr("height",(e=>o(0)-o(1))).attr("fill",(e=>h(e.value))),i.append("line").datum([{date:u,value:1}]).attr("x1",(e=>c(u))).attr("x2",(e=>c(u))).attr("y2",o(1)).attr("y1",o(0)).attr("fill","none").attr("stroke","deeppink").attr("stoke-width",1.5).attr("stroke-linejoin","round"),i.selectAll("circle").data([{date:u,value:1}]).join("circle").attr("cx",(e=>c(e.date))).attr("cy",(e=>o(.98))).attr("r",7).attr("fill",(e=>"deeppink")).attr("stroke",(e=>"deeppink")).call(f),i.node()}}function v(e,t,a,n,r,i,o){return e.drag().on("start",(function(t,a){e.select(this).raise().attr("stroke","black")})).on("drag",(function(l,d){let s=l.x>t(+a[0]),u=l.x<t(+n);if(s&&u){e.select(this).attr("cx",d.x=l.x);const a=e.bisect(r,+t.invert(l.x));i.value=a,o.update(a)}})).on("end",(function(t,a){e.select(this).attr("stroke",null)}))}function p(e){return e}function y(){return null}function w(e,t,a,n,r,i,o,l,d,s,u,c,f,m,b){if("Heatwaves"===e){const e=t.create("svg").attr("viewBox",[0,0,a,n]).style("display","block"),f=t.scaleTime().domain(r).range([i.left,a-i.right]),m=t.brushX().extent([[i.left,.5],[a-i.right,n-i.bottom+.5]]).on("brush",y).on("end",w),b=[f(t.utcYear.offset(f.domain()[1],-1)),f.range()[1]];let h,g;e.append("g").call(o,f,n).attr("class","axisWhite");const v=l(d);e.append("g").selectAll("g").data(v).join("g").style("fill",((e,t)=>s.get(e.key))).selectAll("rect").data((e=>e)).join("rect").attr("x",(e=>u(new Date(e.data.date).toISOString().substring(0,10)))).attr("y",(e=>c(e[1]))).attr("height",(e=>c(e[0])-c(e[1]))).attr("width",u.bandwidth());const p=e.append("g").call(m);function y({selection:n}){if(n){var r=n||f.range();if(e.property("value",n.map(f.invert,f).map(t.utcMonth.ceil)),e.dispatch("input"),(r[1]-r[0])/a*120>30)return void p.call(m.move,[h,g]);h=r[0],g=r[1]}}function w({selection:e}){e||p.call(m.move,[b])}return p.call(m.move,b),e.node()}{const e=t.create("svg").attr("viewBox",[0,0,a,n]).style("display","block"),l=t.scaleTime().domain(r).range([i.left,a-i.right]),d=t.brushX().extent([[i.left,.5],[a-i.right,n-i.bottom+.5]]).on("brush",p).on("end",y),s=[l(t.utcYear.offset(l.domain()[1],-1)),l.range()[1]];let h,g;e.append("g").call(o,l,n).attr("class","axisWhite"),e.selectAll("rect").data(f).enter().append("rect").attr("x",(e=>u(e.date.toISOString().substring(0,10)))).attr("y",(e=>c(1))).attr("width",(e=>u.bandwidth())).attr("height",(e=>c(0)-c(1))).attr("fill",(e=>m(e.value)));const v=e.append("g").call(d);function p({selection:n}){if(n){var r=n||l.range();if(e.property("value",n.map(l.invert,l).map(t.utcMonth.ceil)),e.dispatch("input"),(r[1]-r[0])/a*120>30||(r[1]-r[0])/a*120<2)return void v.call(d.move,[h,g]);h=r[0],g=r[1]}}function y({selection:e}){e||(b.value=s,v.call(d.move,[h,g]))}return v.call(d.move,s),e.node()}}function x(e,t){return e` ${"Anomaly"===t?"Sea surface temperature anomaly":" "}`}function k(e,t){return"Anomaly"===e?t.legend({marginLeft:10,marginRight:10,style:{backgroundColor:"#000000",color:"#e0f5ee",fontSize:"16px",fontWeight:"normal"},color:{type:"diverging",domain:[-4,4],pivot:0,reverse:!0,legend:!0,label:""}}):t.legend({color:{type:"categorical",domain:["No heatwave","Moderate","Strong","Severe","Extreme"],range:["lightblue","#FEDB67","#f26722","#cd3728","#7E1416"]},style:{backgroundColor:"#000000",color:"#e0f5ee",fontSize:"16px",fontWeight:"normal"}})}function S(e,t){return e.table(t)}function D(e){return e}function M(e,t){return new Date(e[0].date)<new Date(t[1])}function C(e,t,a,n){const r=e.timeDay.range(new Date(t[0]),t[1]).map((e=>e.toISOString().substring(0,10))),i=[];return r.forEach(((e,t)=>{let r=a.find((t=>+t.date==+new Date(e)));void 0===r?i.push({station:n,sst:NaN,ssta:NaN,date:e}):i.push(r)})),i}function H(e){return e}function E(e){return console.log(new Date(e[0]))}function _(e){return console.log(e[0].date)}function W(e,t){return+e[0].date==+new Date(t[0])}function T(e){return e.length}function A(e){return e}function O(e,t){return e.find((e=>+e.date==+new Date(t[0])))}function F(e){return void 0===e}function j(e,t,a,n,r,i,o,l,d,s,u,c,f,m,b){const h=0===e.length||void 0===t?"":"Temperature anomaly (°C)",g=a.plot({x:{domain:[n[0],n[1]]},y:{label:"↑ SST (°C)",domain:[0,r]},style:{backgroundColor:"#000000",color:"#e0f5ee",fontSize:10},height:500,marginTop:20,className:"hwclass",marks:[a.dot(e,{x:"date",y:"sst",stroke:"category",fill:"category"}),a.ruleX([i],{stroke:"white",y1:0,y2:o.max(e,(e=>e.sst))}),a.text([{x:l,y:d,text:s}],{x:"x",y:"y",text:"text",fontSize:16})],color:{domain:["none","Moderate","Strong","Severe","Extreme"],range:[u.get("none"),u.get("Moderate"),u.get("Strong"),u.get("Severe"),u.get("Extreme")]},width:500,height:300}),v=a.plot({x:{domain:[n[0],n[1]]},y:{label:"↑ SST (°C)",domain:[0,r]},style:{backgroundColor:"#000000",color:"#e0f5ee",fontSize:10},height:500,marginTop:20,className:"hwclass",marks:[a.dot(e,{x:"date",y:"sst",stroke:"ssta",fill:"ssta"}),a.ruleX([i],{stroke:"white",y1:0,y2:o.max(e,(e=>e.sst))}),a.text([{x:l,y:d,text:s}],{x:"x",y:"y",text:"text",fontSize:16}),a.text([{x:c,y:d,text:h}],{x:"x",y:"y",text:"text",fontSize:10}),a.text([{x:c,y:d-1,text:f}],{x:"x",y:"y",text:"text",fontSize:10})],color:{type:"diverging",domain:[-4,4],pivot:0,reverse:!0},width:500,height:300});return null!==e?"Anomaly"===m?v:g:b``}function B(){return 16}function I(e,t){return e.indexOf(t)}function N(e){return e.timeDay.offset(e.utcDay(),-2)}function z(e,t){return e.timeDay.offset(t,-365)}async function V(e,t){return await e.delay(1e3,""),t}async function L(e,t){return await e.delay(1e3,""),t}function $(e){return e`## bar charts`}function P(){return 60}function G(){return{top:4,right:20,bottom:30,left:10}}function R(e,t,a,n){return e.scaleBand().range([t.left,a-t.right],.01).padding(.1).domain(n)}function U(e,t,a,n){return e.scaleBand().range([t.left,a-t.right],.01).padding(.01).domain(n)}function X(e,t,a){return(n,r,i)=>n.attr("transform",`translate(0,${i-e.bottom})`).call(t.axisBottom(r).ticks(a/80).tickSizeOuter(0)).style("stroke","#e0f5ee")}function q(e,t,a){return e.scaleLinear().domain([0,1]).range([t-a.bottom,a.top])}function Y(e,t){return e.filter((e=>e.date>=t[0]&&new Date(e.date)<new Date(t[1])))}function J(e,t){return e.timeMonth.range(new Date(t[0]),t[1]).map((e=>e.toISOString().substring(0,10)))}function K(e,t){return e.timeMonth.range(new Date(t[0]),new Date(t[1])).map((e=>e.toISOString().substring(0,10)))}function Q(e,t,a,n){return e.scaleTime().domain(t).range([a.left,n-a.right])}function Z(e,t,a,n){return e.scaleTime().domain(t).range([a.left,n-a.right])}function ee(e,t){return e.stack().keys(t)}function te(e,t){return e.filter((e=>e.date>=t[0]&&new Date(e.date)<new Date(t[1])))}function ae(e){return e.scaleDiverging(e.interpolateRdBu).domain([4,0,-4])}function ne(e){return(t,a,n,r)=>t.selectAll(".handle--custom").data([{type:"w"},{type:"e"}]).join((t=>t.append("path").attr("class","handle--custom").attr("fill","#afafaf").attr("fill-opacity",.8).attr("stroke","#000").attr("stroke-width",1).attr("cursor","ew-resize").attr("d",e))).attr("display",null===a?"none":null).attr("transform",null===a?null:(e,t)=>`translate(${a[t]},${(r+n.top-n.bottom)/2})`)}function re(e){return e.arc().innerRadius(0).outerRadius(10).startAngle(0).endAngle(((e,t)=>t?Math.PI:-Math.PI))}function ie(e){const t=[];return Object.keys(e).forEach((a=>{t.push({date:new Date(a.slice(0,4)+"-"+a.slice(-2)),value:e[a][0]})})),t}function oe(e){return e.text().classList[0]}function le(e,t){return e.filter((e=>e>=t[0]&&e<=t[1]))}function de(e,t){return e.timeDay.range(new Date(t[0]),new Date(t[1])).map((e=>+e))}function se(e){return[...e]}function ue(){return[new Date("2013-01-01"),new Date]}function ce(e,t){return e.find((e=>e.long_name===t)).pk}function fe(e){return e}function me(e,t){return e.select([null].concat(t.map((e=>e.long_name))),{label:"site",value:"North Hecate Strait"})}function be(e){return e}function he(e){return new Date(e).toISOString().substring(0,10)}function ge(e,t){return e.find((e=>new Date(e.date).toISOString().substring(0,10)===new Date(t).toISOString().substring(0,10)))}function ve(e,t){let a;return a=0!==e.length&&void 0!==t?t.ssta.toFixed(2):"",a}function pe(e,t){return void 0===e[Math.floor(e.length/1.2)]?18:1.1*t.max(e,(e=>e.sst))}function ye(e,t){return void 0===e[Math.floor(e.length/1.2)]?18:1.1*t.max(e,(e=>e.sst))}function we(e,t,a){return void 0===e[Math.floor(e.length/1.2)]?t.timeDay.offset(a[0],30):e[Math.floor(.2*e.length)].date}function xe(e,t,a){return void 0===e[Math.floor(e.length/2)]?t.timeDay.offset(a[0],30):e[Math.floor(.8*e.length)].date}function ke(e,t){return e.find((e=>e.pk===t)).long_name}function Se(e){return e[e.length-1]}function De(e,t){return e.filter((e=>e.station===t))}function Me(){return new Map([["avg","#5b6187"],["thresh","#FEDB67"],["below","#89119c"],["above","pink"],["none","lightblue"],["Moderate","#FEDB67"],["Strong","#f26722"],["Severe","#cd3728"],["Extreme","#7E1416"],["seas","pink"]])}function Ce(){return[{short_name:"C46004",lat:50.94,lon:-135.87,long_name:"Middle Nomad",pk:1},{short_name:"C46036",lat:48.3,lon:-133.86,long_name:"South Nomad",pk:2},{short_name:"C46131",lat:49.91,lon:-124.99,long_name:"Sentry Shoal",pk:3},{short_name:"C46132",lat:49.74,lon:-127.93,long_name:"South Brooks",pk:4},{short_name:"C46145",lat:54.38,lon:-132.42,long_name:"Central Dixon Entran",pk:6},{short_name:"C46146",lat:49.34,lon:-123.73,long_name:"Halibut Bank",pk:7},{short_name:"C46147",lat:51.83,lon:-131.23,long_name:"South Moresby",pk:8},{short_name:"C46183",lat:53.57,lon:-131.14,long_name:"North Hecate Strait",pk:11},{short_name:"C46184",lat:53.92,lon:-138.85,long_name:"North Nomad",pk:12},{short_name:"C46185",lat:52.42,lon:-129.79,long_name:"South Hecate Strait",pk:13},{short_name:"C46204",lat:51.38,lon:-128.77,long_name:"West Sea Otter",pk:14},{short_name:"C46205",lat:54.3,lon:-133.4,long_name:"West Dixon Entrance",pk:15},{short_name:"C46206",lat:48.83,lon:-126,long_name:"La Perouse Bank",pk:16},{short_name:"C46207",lat:50.88,lon:-129.91,long_name:"East Dellwood",pk:17},{short_name:"C46208",lat:52.51,lon:-132.69,long_name:"West Moresby",pk:18}]}function He(e,t){return e.filter((e=>new Date(t).toISOString().substring(0,10)===new Date(e.result_time).toISOString().substring(0,10)))}function Ee(e){const t=Object.assign(e[0]),a=new Date(t);return new Date(a.setDate(a.getDate()-1)).toISOString().substring(0,10)}function _e(e,t){return fetch("https://t6r95rekqe.execute-api.us-east-1.amazonaws.com/dev/getDailySSTStats?startDate="+e+"&endDate="+t[1].toISOString().substring(0,10)).then((e=>e.json())).then((e=>(e.forEach((e=>{e.ssta=e.sst-e.seas,e.diff=e.thresh,e.diffStrong=e.thresh,e.diffExtreme=e.thresh,e.diffSevere=e.thresh,"Strong"===e.category&&(e.diffStrong=Math.max(e.thresh,e.sst)),"Extreme"===e.category&&(e.diffExtreme=Math.max(e.thresh,e.sst)),"Severe"===e.category&&(e.diffSevere=Math.max(e.thresh,e.sst)),"Moderate"===e.category&&(e.diff=Math.max(e.thresh,e.sst)),null===e.category&&(e.category="none"),e.date=new Date(e.result_time)})),e)))}function We(){return 500}function Te(e){return e.scaleOrdinal().domain(["none","Moderate","Strong","Severe","Extreme"]).range(["#31a354","#FEDB67","#f26722","#7E1416","#cd3728"])}function Ae(e){return e.scaleOrdinal().domain(["none","Moderate","Strong","Severe","Extreme"])}function Oe(e){return e.format(",d")}function Fe(e){return e.timeFormat("%Y-%m-%d")}function je(e){return e("d3@6")}function Be(e){return new Date(e).toISOString().substring(0,10)}function Ie(){return[{date:"2013-10-01",value:1},{date:"2013-11-01",value:1},{date:"2013-12-01",value:1},{date:"2014-01-01",value:1},{date:"2014-02-01",value:1},{date:"2014-03-01",value:1},{date:"2014-04-01",value:1},{date:"2014-05-01",value:1},{date:"2014-06-01",value:1},{date:"2014-07-01",value:1},{date:"2014-08-01",value:1},{date:"2014-09-01",value:1},{date:"2014-10-01",value:1},{date:"2014-11-01",value:1},{date:"2014-12-01",value:1},{date:"2015-01-01",value:1},{date:"2015-02-01",value:1},{date:"2015-03-01",value:1},{date:"2015-04-01",value:1},{date:"2015-05-01",value:1},{date:"2015-06-01",value:1},{date:"2015-07-01",value:1},{date:"2015-08-01",value:1},{date:"2015-09-01",value:1},{date:"2015-10-01",value:1},{date:"2015-11-01",value:1},{date:"2015-12-01",value:1},{date:"2016-01-01",value:1},{date:"2016-02-01",value:1},{date:"2016-03-01",value:1},{date:"2016-04-01",value:1},{date:"2016-05-01",value:1},{date:"2016-06-01",value:1},{date:"2016-07-01",value:1},{date:"2016-08-01",value:1},{date:"2016-09-01",value:1},{date:"2016-10-01",value:1},{date:"2016-11-01",value:1},{date:"2019-08-01",value:1},{date:"2019-09-01",value:1},{date:"2019-10-01",value:1},{date:"2019-11-01",value:1}]}function Ne(e,t){return e.timeMonth.range(new Date(t[0]),new Date(t[1])).map((e=>e.toISOString().substring(0,10)))}function ze(e){return[...new Set(e.map((e=>e.date.slice(0,7))))]}function Ve(e){return e.filter((e=>"2013-01"===e.date))}function Le(e,t,a,n){const r=[];return e.forEach((e=>{let i=0;for(let o=0;o<t.length;o++){let l=a.sum(n.filter((t=>+new Date(t.month)==+new Date(e))),(e=>e[t[o]]));r.push({date:e,[t[o]]:l}),i+=l}})),r}function $e(e,t){const a=[];return e.forEach((e=>{let n=0;e[1].forEach((e=>{n+=Object.values(e)[1]})),a.push({date:new Date(e[0]),[t[0]]:e[1][0][t[0]]/n,[t[1]]:e[1][1][t[1]]/n,[t[2]]:e[1][2][t[2]]/n,[t[3]]:e[1][3][t[3]]/n,[t[4]]:e[1][4][t[4]]/n,sum:n})})),a}function Pe(){return["none","Moderate","Strong","Extreme","Severe"]}function Ge(e,t){return e.groups(t,(e=>+new Date(e.date)))}async function Re(e){const t=await e("monthlyMHW@4.json").json(),a=[];return Object.keys(t).forEach((e=>{for(let n=0;n<1;n++)t[e].reduce(((e,t)=>e+t),0),a.push({date:e.replace(/(\d{4})(\d{2})(\d{2})/g,"$1-$2-$3"),month:e.replace(/(\d{4})(\d{2})(\d{2})/g,"$1-$2-$3").slice(0,7),none:t[e][0],Moderate:t[e][1],Strong:t[e][2],Extreme:t[e][3],Severe:t[e][4]})})),a}function Ue(e){return e("monthlyMHW@4.json").json()}function Xe(e){return e[202203]}function qe(e){return e[202204]}function Ye(){return fetch("https://raw.githubusercontent.com/HakaiInstitute/ssta_images/gh-pages/src/monthly.json",{Method:"GET"}).then((e=>e.json()))}function Je(e){return e("monthly@7.json").json()}function Ke(e,t){const Ke=e.module();function Qe(){return this.url}const Ze=new Map([["monthly@7.json",{url:new URL(a(383),a.b),mimeType:"application/json",toString:Qe}],["monthlyMHW@4.json",{url:new URL(a(201),a.b),mimeType:"application/json",toString:Qe}]]);Ke.builtin("FileAttachment",e.fileAttachments((e=>Ze.get(e)))),Ke.variable(t()).define(["md"],r),Ke.variable(t("curDate")).define("curDate",["md","timeFormat","time1"],i),Ke.variable(t()).define(["md"],o),Ke.variable(t()).define(["d3"],l),Ke.variable(t("endPlayDate")).define("endPlayDate",["d3"],d),Ke.variable(t("style")).define("style",["html","width","ns"],s),Ke.variable(t()).define(["brushedData"],u),Ke.variable(t()).define(["md"],c),Ke.variable(t("viewof time1")).define("viewof time1",["Scrubber","datesToPlot","newNum"],f),Ke.variable(t("time1")).define("time1",["Generators","viewof time1"],((e,t)=>e.input(t))),Ke.variable(t()).define(["md"],m),Ke.variable(t("viewof colorView")).define("viewof colorView",["Inputs","html"],b),Ke.variable(t("colorView")).define("colorView",["Generators","viewof colorView"],((e,t)=>e.input(t))),Ke.define("initial newNum",h),Ke.variable(t("mutable newNum")).define("mutable newNum",["Mutable","initial newNum"],((e,t)=>new e(t))),Ke.variable(t("newNum")).define("newNum",["mutable newNum"],(e=>e.generator)),Ke.variable(t("chart")).define("chart",["colorView","focusHeight","d3","width","margin","xMHW","stack","brushedDataMHW","colors","x1MHW","time1","x","drag","brusedAllDates","brushedData","sstaColors"],g),Ke.variable(t("drag")).define("drag",["d3","x","focus","endPlayDate","datesToPlot","mutable newNum","viewof time1"],v),Ke.variable(t()).define(["focus"],p),Ke.define("initial debug1",y),Ke.variable(t("mutable debug1")).define("mutable debug1",["Mutable","initial debug1"],((e,t)=>new e(t))),Ke.variable(t("debug1")).define("debug1",["mutable debug1"],(e=>e.generator)),Ke.variable(t("viewof focus")).define("viewof focus",["colorView","d3","width","focusHeight","dateExtent","margin","xAxis","stack","monthlyGrouped","colors","x1","y","data","sstaColors","mutable debug1"],w),Ke.variable(t("focus")).define("focus",["Generators","viewof focus"],((e,t)=>e.input(t))),Ke.variable(t("legTitle")).define("legTitle",["md","colorView"],x),Ke.variable(t("leg")).define("leg",["colorView","Plot"],k),Ke.variable(t()).define(["Inputs","alldays"],S),Ke.variable(t()).define(["clickedSite"],D),Ke.variable(t()).define(["clickedSite","limitsDelayed"],M),Ke.variable(t("alldays")).define("alldays",["d3","focus","clickedSite","siteClicked"],C),Ke.variable(t()).define(["alldays"],H),Ke.variable(t()).define(["alldays"],E),Ke.variable(t()).define(["clickedSite"],_),Ke.variable(t()).define(["clickedSite","alldays"],W),Ke.variable(t()).define(["alldays"],T),Ke.variable(t()).define(["alldays"],A),Ke.variable(t()).define(["clickedSite","alldays"],O),Ke.variable(t()).define(["tempToShow"],F),Ke.variable(t("viewof lineChart")).define("viewof lineChart",["alldays","tempToShow","Plot","limitsDelayed","yMaxDomainToUse","time1","d3","dateForLabel","yValueForLabel","buoyClicked","colors","dateForLabelVal","currentValue","colorView","md"],j),Ke.variable(t("lineChart")).define("lineChart",["Generators","viewof lineChart"],((e,t)=>e.input(t))),Ke.define("initial siteClicked",B),Ke.variable(t("mutable siteClicked")).define("mutable siteClicked",["Mutable","initial siteClicked"],((e,t)=>new e(t))),Ke.variable(t("siteClicked")).define("siteClicked",["mutable siteClicked"],(e=>e.generator)),Ke.variable(t("ind")).define("ind",["dates","time1"],I),Ke.variable(t("today")).define("today",["d3"],N),Ke.variable(t("start")).define("start",["d3","today"],z),Ke.variable(t("limitsDelayed")).define("limitsDelayed",["Promises","focus"],V),Ke.variable(t("limitsDelayedMHW")).define("limitsDelayedMHW",["Promises","focus"],L),Ke.variable(t()).define(["md"],$),Ke.variable(t("focusHeight")).define("focusHeight",P),Ke.variable(t("margin")).define("margin",G),Ke.variable(t("x1")).define("x1",["d3","margin","width","alldates"],R),Ke.variable(t("x1MHW")).define("x1MHW",["d3","margin","width","brusedAllDatesMHW"],U),Ke.variable(t("xAxis")).define("xAxis",["margin","d3","width"],X),Ke.variable(t("y")).define("y",["d3","focusHeight","margin"],q),Ke.variable(t("brushedDataMHW")).define("brushedDataMHW",["monthlyGrouped","focus"],Y),Ke.variable(t("brusedAllDates")).define("brusedAllDates",["d3","focus"],J),Ke.variable(t("brusedAllDatesMHW")).define("brusedAllDatesMHW",["d3","focus"],K),Ke.variable(t("x")).define("x",["d3","focus","margin","width"],Q),Ke.variable(t("xMHW")).define("xMHW",["d3","focus","margin","width"],Z),Ke.variable(t("stack")).define("stack",["d3","cats"],ee),Ke.variable(t("brushedData")).define("brushedData",["data","focus"],te),Ke.variable(t("sstaColors")).define("sstaColors",["d3"],ae),Ke.variable(t("brushHandle")).define("brushHandle",["arc"],ne),Ke.variable(t("arc")).define("arc",["d3"],re),Ke.variable(t("data")).define("data",["dataSsta"],ie),Ke.variable(t("ns")).define("ns",["Inputs"],oe),Ke.variable(t("datesToPlot")).define("datesToPlot",["datesCopy","limitsDelayed"],le),Ke.variable(t("dates")).define("dates",["d3","dateExtent"],de),Ke.variable(t("datesCopy")).define("datesCopy",["dates"],se),Ke.variable(t("dateExtent")).define("dateExtent",ue),Ke.variable(t()).define(["buoys","siteClickeds"],ce),Ke.variable(t()).define(["siteClickeds"],fe),Ke.variable(t("viewof siteClickeds")).define("viewof siteClickeds",["Inputs","buoys"],me),Ke.variable(t("siteClickeds")).define("siteClickeds",["Generators","viewof siteClickeds"],((e,t)=>e.input(t))),Ke.variable(t()).define(["clickedSite"],be),Ke.variable(t()).define(["time1"],he),Ke.variable(t("tempToShow")).define("tempToShow",["clickedSite","time1"],ge),Ke.variable(t("currentValue")).define("currentValue",["clickedSite","tempToShow"],ve),Ke.variable(t("yMaxDomainToUse")).define("yMaxDomainToUse",["clickedSite","d3"],pe),Ke.variable(t("yValueForLabel")).define("yValueForLabel",["clickedSite","d3"],ye),Ke.variable(t("dateForLabel")).define("dateForLabel",["clickedSite","d3","limitsDelayed"],we),Ke.variable(t("dateForLabelVal")).define("dateForLabelVal",["clickedSite","d3","limitsDelayed"],xe),Ke.variable(t("buoyClicked")).define("buoyClicked",["buoys","siteClicked"],ke),Ke.variable(t()).define(["buoyDailyData"],Se),Ke.variable(t("clickedSite")).define("clickedSite",["buoyDailyData","siteClicked"],De),Ke.variable(t("colors")).define("colors",Me),Ke.variable(t("buoys")).define("buoys",Ce),Ke.variable(t("HWsForDate")).define("HWsForDate",["buoyDailyData","time1"],He),Ke.variable(t("dayBeforeStart")).define("dayBeforeStart",["focus"],Ee),Ke.variable(t("buoyDailyData")).define("buoyDailyData",["dayBeforeStart","limitsDelayed"],_e),Ke.variable(t("height")).define("height",We),Ke.variable(t("colorMHW")).define("colorMHW",["d3"],Te),Ke.variable(t("opacityMHW")).define("opacityMHW",["d3"],Ae),Ke.variable(t("numFormat")).define("numFormat",["d3"],Oe),Ke.variable(t("timeFormat")).define("timeFormat",["d3"],Fe),Ke.variable(t("d3")).define("d3",["require"],je),Ke.define("initial p",["time1"],Be),Ke.variable(t("mutable p")).define("mutable p",["Mutable","initial p"],((e,t)=>new e(t))),Ke.variable(t("p")).define("p",["mutable p"],(e=>e.generator)),Ke.variable(t("hwEvent")).define("hwEvent",Ie),Ke.variable(t("alldates")).define("alldates",["d3","dateExtent"],Ne),Ke.variable(t("allmonths")).define("allmonths",["mhwBarData"],ze),Ke.variable(t()).define(["monthlyTots"],Ve),Ke.variable(t("monthlyTots")).define("monthlyTots",["allmonths","cats","d3","mhwBarData"],Le),Ke.variable(t("monthlyGrouped")).define("monthlyGrouped",["groups","cats"],$e),Ke.variable(t("cats")).define("cats",Pe),Ke.variable(t("groups")).define("groups",["d3","monthlyTots"],Ge),Ke.variable(t("mhwBarData")).define("mhwBarData",["FileAttachment"],Re),Ke.variable(t("tt")).define("tt",["FileAttachment"],Ue),Ke.variable(t()).define(["dataSsta"],Xe),Ke.variable(t()).define(["dataSstaOld"],qe),Ke.variable(t("dataSsta")).define("dataSsta",Ye),Ke.variable(t("dataSstaOld")).define("dataSstaOld",["FileAttachment"],Je);const et=e.module(n.default);return Ke.import("Scrubber",et),Ke}}}]);
//# sourceMappingURL=bundle.a63d5d582b43457aaff2.js.map